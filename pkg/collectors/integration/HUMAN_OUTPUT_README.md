# Human-Readable Output Module

This module provides simple, clear explanations for technical events and insights generated by the Tapio correlation engine.

## Key Features Extracted

### 1. **What/Why/Impact/Action Format**
Every technical insight is transformed into a simple 4-part explanation:
- **What Happened**: Clear description of the event
- **Why It Happened**: Root cause explanation
- **Impact**: Business/operational consequences
- **What To Do**: Actionable steps to resolve

### 2. **Multiple Explanation Styles**
- **Simple**: For quick understanding by any audience
- **Technical**: Detailed explanations with commands for developers
- **Executive**: Business-focused explanations for leadership

### 3. **Story Generation**
Complex incidents with multiple events are transformed into narrative stories with:
- Timeline of events
- Impact assessment
- Recommended actions
- Easy-to-follow progression

### 4. **Readability Scoring**
Automatically calculates how readable the explanation is based on:
- Sentence length
- Word complexity
- Technical jargon usage

## Usage

### Basic Usage

```go
// Create a formatter
formatter := NewHumanReadableFormatter(StyleSimple, AudienceDeveloper)

// Convert an insight to human-readable explanation
explanation := formatter.FormatInsight(insight)

fmt.Println(explanation.WhatHappened)   // "Your application has a memory leak"
fmt.Println(explanation.WhyItHappened)  // "The application keeps using more memory..."
fmt.Println(explanation.Impact)         // "The application will eventually crash..."
fmt.Println(explanation.WhatToDo)       // "Restart the service now and fix..."
```

### Different Styles

```go
// Simple style for general audience
simpleFormatter := NewHumanReadableFormatter(StyleSimple, AudienceDeveloper)

// Technical style with commands
techFormatter := NewHumanReadableFormatter(StyleTechnical, AudienceDeveloper)

// Executive style for business stakeholders
execFormatter := NewHumanReadableFormatter(StyleExecutive, AudienceBusiness)
```

### Story Generation for Complex Incidents

```go
// Create a story from multiple related insights
story := formatter.FormatAsStory(insights)
// Generates a narrative with timeline, impact, and recommendations
```

## Integration with Semantic Correlation Engine

The human output module is integrated into the SemanticCorrelationEngine:

```go
// Set output style
engine.SetHumanOutputStyle(StyleSimple, AudienceDeveloper)

// Get human explanation for any insight
explanation := engine.GetHumanExplanation(insight)

// Create incident story from multiple insights
story := engine.GetInsightStory(insights)
```

## Examples

### Memory Leak Detection

**Simple Style:**
- What: Your application has a memory leak
- Why: The application keeps using more memory without releasing it
- Impact: The application will eventually crash when it runs out of memory
- Action: Restart the service now and fix the memory leak in the code

**Technical Style:**
- What: Memory leak detected (confidence: 92%)
- Why: Continuous memory growth pattern identified over time
- Impact: Imminent OOM kill, service will crash within estimated timeframe
- Action: Immediate restart recommended, implement memory profiling
- Commands:
  - `kubectl rollout restart deployment/<service>`
  - `kubectl exec <pod> -- jmap -histo <pid>`
  - `kubectl top pod <pod> --containers`

### Network Failure

**Simple Style:**
- What: Network connection problems detected
- Why: Services cannot talk to each other properly
- Impact: Users might see errors or slow responses
- Action: Check if all services are running and network settings are correct

**Executive Style:**
- What: Service communication breakdown
- Why: Infrastructure networking issues
- Impact: Customer transactions may fail or experience delays
- Action: Infrastructure team investigating connectivity issues

## Key Benefits

1. **Accessibility**: Technical events become understandable by anyone
2. **Actionability**: Clear next steps for every issue
3. **Context**: Appropriate level of detail for different audiences
4. **Urgency**: Clear indication of how critical issues are
5. **Confidence**: Shows certainty level for predictions
6. **Commands**: Ready-to-run commands for immediate action

## What Was Simplified

From the original 700+ line human_output.go file, we extracted:
- Core What/Why/Impact/Action formatting
- Style-based explanation generation
- Story narrative creation
- Readability scoring
- Command generation for technical users

We removed:
- Complex AI generation components (kept template-based)
- OTEL tracing integration (can be added back if needed)
- Multiple language support (English only for now)
- Complex intent analysis (simplified to pattern matching)
- External knowledge base dependencies

The result is a production-ready module that transforms technical insights into human-understandable explanations.